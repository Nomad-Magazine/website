---
const mainImageUrl = '/images/5ea9641e-e952-4570-b281-e0a29b9753f2.webp'
const stampImageUrl = '/images/365b0ceb-376b-445d-9f65-cef882cd05e9.webp'
---

<section class="py-64">
  <div class="container mx-auto">
    <div class="grid grid-cols-1 items-center gap-16 md:grid-cols-2">
      <!-- Text content -->
      <div class="order-2 space-y-8 px-4 text-center md:order-1 md:text-left">
        <h2 class="text-3xl leading-tight font-semibold md:text-7xl">We bridge the gap between individual digital nomads and the wider world</h2>
        <div class="text-md space-y-6 text-neutral-400 md:text-lg">
          <p>NGM is pioneering the movement towards sustainable, non-linear lifestyle choices, bringing together <a href="/blog/is-the-digital-nomad-lifestyle-sustainable-challenges-myths-and-reality" class="text-neutral-300 hover:text-neutral-200">nomads with locals</a> and fostering respect for every way of life.</p>
          <p>From the <a href="/blog/best-se-asia-spots-for-reliable-internet" class="text-neutral-300 hover:text-neutral-200">best places to meet like-minded wanderers</a>, to <a href="/blog/how-to-adjust-to-new-cultures-as-a-nomad" class="text-neutral-300 hover:text-neutral-200">tried-and-tested techniques</a> to make a living online, NGM is written for the nomad in all of us.</p>
          <p>Join our community by <a href="/newsletter" class="text-neutral-300 hover:text-neutral-200">subscribing to our newsletter</a> or explore our <a href="/nomad-events" class="text-neutral-300 hover:text-neutral-200">upcoming events</a>.</p>
        </div>
      </div>
      <!-- Image content -->
      <div class="relative order-1 flex justify-center md:order-2 md:justify-end">
        <div class="relative w-full">
          <img id="dot-1" class="absolute -top-12 right-[66%] -translate-x-1/2 -translate-y-1/2 opacity-0" src="/images/circle.svg" />
          <img id="dot-2" class="absolute -top-12 right-[41%] -translate-x-1/2 -translate-y-1/2 opacity-0" src="/images/circle.svg" />
          <img id="dot-3" class="absolute -top-12 right-[17%] -translate-x-1/2 -translate-y-1/2 opacity-0" src="/images/circle.svg" />
          <div id="revealBox" class="bg-hoverw absolute z-[100] h-full w-full"></div>
          <img src={mainImageUrl} alt="Abstract graphic representing community" class="w-full" loading="lazy" decoding="async" />
          <div id="dot-below-image-2" class="group absolute bottom-0 left-1/2 w-1/2 -translate-x-1/2 scale-140 opacity-0 md:-bottom-12">
            <img src={stampImageUrl} alt="Stamp with a globe and text 'not all who wander are lost'" class="h-auto w-full" loading="lazy" decoding="async" />
            <img
              loading="lazy"
              decoding="async"
              alt="Rotating globe"
              src="/images/rotating-globe.png"
              class="absolute top-1/2 left-2/3 z-10 aspect-square w-[75%] max-w-[140px] -translate-x-1/2 -translate-y-1/2 transition-transform duration-700 ease-in-out group-hover:rotate-360"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Custom rotate-360 utility for Tailwind (since rotate-360 is not default) */
  .group:hover .group-hover\\:rotate-360 {
    transform: translate(-50%, -50%) rotate(360deg);
  }
  #revealBox {
    padding: 1em 2em;
    font-size: 1.5em;
    transform: scaleX(1);
    transform-origin: right;
    transition:
      opacity 2s ease,
      transform 2s cubic-bezier(0.785, 0.135, 0.15, 0.86);
  }
  #revealBox.revealed {
    transform: scaleX(0);
  }
</style>

<script>
  const revealBox = document.getElementById('revealBox')
  if (revealBox) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            revealBox.classList.add('revealed')
            setTimeout(() => {
              document.getElementById('dot-1')?.classList.add('animate-fade-in')
              document.getElementById('dot-1')?.classList.remove('opacity-0')
              setTimeout(() => {
                document.getElementById('dot-2')?.classList.add('animate-fade-in')
                document.getElementById('dot-2')?.classList.remove('opacity-0')
                setTimeout(() => {
                  document.getElementById('dot-3')?.classList.add('animate-fade-in')
                  document.getElementById('dot-3')?.classList.remove('opacity-0')
                  setTimeout(() => {
                    document.getElementById('dot-below-image-2')?.classList.add('animate-fade-in')
                    document.getElementById('dot-below-image-2')?.classList.remove('opacity-0')
                  }, 800)
                }, 300)
              }, 300)
            }, 1000)
          }
        })
      },
      { threshold: 0.5 },
    )
    observer.observe(revealBox)
  }
</script>
