---
interface Props {
  image: string
  title: string
  scea90e502?: string
  sb788c266b?: string[]
  s9c0ff01ed?: string
  sed1a49986?: string
  sb685ab800?: { label: string }
}

const { image, title, scea90e502, sed1a49986, sb685ab800, sb788c266b, s9c0ff01ed: discountCode }: Props = Astro.props
const website = sb788c266b?.[0]
---

<div class="mx-auto flex h-full w-full max-w-xs flex-col rounded-3xl bg-neutral-900 shadow-lg">
  <h3 class="p-4 text-lg font-semibold text-white">{title}</h3>
  <div class="relative px-4 pb-0">
    <div class="relative h-48 w-full rounded-3xl overflow-hidden">
      <!-- Blurred background -->
      <div 
        class:list={[
          "absolute inset-0",
          (image && image !== '/logo.svg') ? "bg-cover bg-center bg-no-repeat scale-110 blur-lg opacity-50" : "bg-white"
        ]}
        style={(image && image !== '/logo.svg') ? `background-image: url('${image}')` : undefined}
      ></div>
      <!-- Main image -->
      <img 
        src={image || '/logo.svg'} 
        decoding="async" 
        alt={title} 
        class="relative z-10 h-full w-full object-contain" 
        loading="lazy" 
      />
      {sb685ab800?.label && <span class="absolute top-2 right-2 z-20 rounded-full bg-yellow-400 px-2 py-1 text-sm font-medium text-black">{sb685ab800.label}</span>}
    </div>
  </div>
  <div class="flex flex-1 flex-col p-8 text-neutral-200">
    <div class="space-y-4 rounded-2xl text-sm">
      {
        sed1a49986 && (
          <div class="flex flex-col">
            <span>Location</span>
            <span class="font-medium text-white">{sed1a49986}</span>
          </div>
        )
      }
      {
        scea90e502 && (
          <div class="flex flex-col">
            <span>Description</span>
            <span class="font-medium text-white">{scea90e502}</span>
          </div>
        )
      }
      {
        discountCode && (
          <div class="flex flex-col">
            <span>Discount Code</span>
            <span class="font-medium text-white">{discountCode}</span>
          </div>
        )
      }
      {
        website && (
          <div class="flex flex-col">
            <a href={website} target="_blank" rel="noopener noreferrer" class="break-all text-blue-300 underline">
              Learn more &rarr;
            </a>
          </div>
        )
      }
    </div>
  </div>
</div>
