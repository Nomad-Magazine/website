---
import Layout, { type SEOProps } from '~/layouts/Layout.astro'

const seo: SEOProps = {
  title: 'Nomad Horoscope - Digital Nomad Astrology | Nomad Magazine',
  description: 'Discover your nomadic destiny with our specialized horoscope for digital nomads. Get personalized astrological insights for your travel and work adventures.',
  image: `${Astro.site}images/187987f5-e9fc-4a74-b6ef-304b3d4a92e2.webp`,
  keywords: 'nomad horoscope, digital nomad astrology, travel horoscope, nomad destiny, astrological insights',
  ldJSON: {
    '@context': 'https://schema.org',
    '@type': 'WebPage',
    name: 'Nomad Horoscope',
    url: `${Astro.site}horoscope/`,
    description: 'Specialized horoscope for digital nomads and travelers',
    publisher: {
      '@type': 'Organization',
      name: 'Nomad Magazine',
      logo: {
        '@type': 'ImageObject',
        url: `${Astro.site}logo.svg`,
      },
    },
  },
}
---

<Layout seo={seo}>
  <div class="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
    <!-- Header Section -->
    <div class="relative overflow-hidden">
      <div class="absolute inset-0 bg-black/20"></div>
      <div class="relative mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="text-4xl font-bold text-white sm:text-5xl lg:text-6xl">
            Nomad Horoscope
          </h1>
          <p class="mt-4 text-xl text-purple-200 sm:text-2xl">
            Discover your nomadic destiny among the stars
          </p>
          <p class="mt-2 text-lg text-purple-300">
            Personalized astrological insights for digital nomads and travelers
          </p>
        </div>
      </div>
    </div>

    <!-- Iframe Container -->
    <div class="mx-auto max-w-7xl px-4 pb-16 sm:px-6 lg:px-8">
      <div class="overflow-hidden rounded-2xl bg-white/10 backdrop-blur-sm shadow-2xl">
        <div class="relative">
          <iframe
            src="https://horoscope.nomad-magazine.com/"
            class="h-screen w-full min-h-[800px] border-0"
            title="Nomad Horoscope"
            loading="lazy"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
          
          <!-- Loading overlay -->
          <div id="loading-overlay" class="absolute inset-0 bg-gradient-to-br from-purple-900/90 to-indigo-900/90 flex items-center justify-center">
            <div class="text-center">
              <div class="animate-spin rounded-full h-16 w-16 border-4 border-purple-400 border-t-transparent mb-4"></div>
              <p class="text-white text-lg">Loading your cosmic insights...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Info -->
    <div class="mx-auto max-w-7xl px-4 pb-16 sm:px-6 lg:px-8">
      <div class="text-center">
        <p class="text-purple-200">
          Want more nomad insights? 
          <a href="/blog/" class="text-yellow-400 hover:text-yellow-300 underline">
            Read our blog
          </a>
          or
          <a href="/editions/" class="text-yellow-400 hover:text-yellow-300 underline">
            get the magazine
          </a>
        </p>
      </div>
    </div>
  </div>
</Layout>

<script>
  // Hide loading overlay when iframe loads
  const iframe = document.querySelector('iframe');
  const loadingOverlay = document.getElementById('loading-overlay');
  
  if (iframe && loadingOverlay) {
    iframe.addEventListener('load', () => {
      loadingOverlay.style.display = 'none';
    });
    
    // Fallback to hide loading after 5 seconds
    setTimeout(() => {
      if (loadingOverlay) {
        loadingOverlay.style.display = 'none';
      }
    }, 5000);
  }
</script>

<style>
  /* Ensure iframe is responsive */
  @media (max-width: 768px) {
    iframe {
      min-height: 600px;
    }
  }
</style> 
